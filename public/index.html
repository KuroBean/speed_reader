<!DOCTYPE html>
<html>
<head>
  <style>
    #inputText {
      height: 100px;
      width: 500px;
      font-size: 18px;
      overflow: auto;
      white-space: pre-wrap;
    }
    #output {
      font-size: 200px;
    }
    #cumulativeOutput {
      margin-top: 20px;
      font-size: 20px;
    }
  </style>
</head>
<body>
  <textarea id="inputText" placeholder="Enter text"></textarea>
  <br>
  <button id="playButton">Play</button>
  <button id="pauseButton">Pause</button>
  <button id="resumeButton">Resume</button>
  <div id="output"></div>
  <div id="cumulativeOutput"></div>

  <script>
    var words = [];
    var index = 0;
    var cumulativeText = "";
    var timeoutId;
    var pauseKeys = [".", ",", ";", ":"];
    var pauseTimeForKeys = 300;
    var regularPauseTime = 150;
    var timeInterval;

    function displayWordsWithBoldSyllables() {
      var inputText = document.getElementById("inputText").value;
      words = inputText.split(" ");
      index = 0;
      cumulativeText = "";

      var outputDiv = document.getElementById("output");
      var cumulativeOutputDiv = document.getElementById("cumulativeOutput");
      outputDiv.innerHTML = "";
      cumulativeOutputDiv.innerHTML = "";

      clearTimeout(timeoutId);
      
      displayNextWord();
      
    }

    function displayNextWord() {
      if (index >= words.length) {
        return;
      }

      var word = words[index];
      var firstSyllable = getFirstSyllable(word);
      var boldSyllable = "<b>" + firstSyllable + "</b>";
      var remainingLetters = word.substr(firstSyllable.length);
      var formattedWord = boldSyllable + remainingLetters;

      var outputDiv = document.getElementById("output");
      var cumulativeOutputDiv = document.getElementById("cumulativeOutput");
      outputDiv.innerHTML = formattedWord;
      cumulativeText += formattedWord + " ";
      cumulativeOutputDiv.innerHTML = cumulativeText;

      index++;

      if (pauseKeys.includes(word.charAt(word.length - 1))) {
        timeInterval = pauseTimeForKeys;
      } else {
        timeInterval = regularPauseTime;
      }

      timeoutId = setTimeout(displayNextWord, timeInterval);
    }

    function getFirstSyllable(word) {
      var vowels = ["a", "e", "i", "o", "u", "y"];
      var firstSyllable = "";

      for (var i = 0; i < word.length; i++) {
        if (vowels.includes(word[i])) {
          firstSyllable = word.substr(0, i + 1);
          break;
        }
      }

      return firstSyllable;
    }

    function pauseAnimation() {
      clearTimeout(timeoutId);
    }

    function resumeAnimation() {
      clearTimeout(timeoutId);
      displayNextWord();
    }

    var playButton = document.getElementById("playButton");
    playButton.addEventListener("click", displayWordsWithBoldSyllables);

    var pauseButton = document.getElementById("pauseButton");
    pauseButton.addEventListener("click", pauseAnimation);

    var resumeButton = document.getElementById("resumeButton");
    resumeButton.addEventListener("click", resumeAnimation);
  </script>
</body>
</html>
